(this.webpackJsonpmurv_renderer=this.webpackJsonpmurv_renderer||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"object":{"size":{"width":300,"height":300,"padding":10},"name":"Student","groups":[0,1,2],"values":[{"key":1,"name":"ICP1002","value":1,"group":0,"color":"#6FD1FF"},{"key":2,"name":"ICP1015","value":0.7,"group":0,"color":"#CDC978"},{"key":3,"name":"ICP1016","value":0.75,"group":1,"color":"#95D95B"},{"key":4,"name":"ICP1002","value":0.8,"group":0,"color":"#FDB67B"},{"key":5,"name":"ICP1015","value":0.5,"group":0,"color":"#6FD1FF"},{"key":6,"name":"ICP1016","value":0.3,"group":1,"color":"#CDC978"},{"key":7,"name":"ICP1015","value":0.5,"group":0,"color":"#6FD1FF"},{"key":8,"name":"ICP1016","value":0.7,"group":1,"color":"#CDC978"}]},"views":[4,42]}')},22:function(e,t,n){e.exports=n.p+"static/media/watch.c0f5684c.png"},28:function(e,t,n){e.exports=n(57)},33:function(e,t,n){},34:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"},51:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var o,a,r=n(1),i=n.n(r),s=n(15),p=n.n(s),h=(n(33),n(34),n(16)),c=n(17),l=n(26),u=n(18),g=n(27),f=n(0),d=n.n(f);var y=(a=o=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shape=t.shape||e.shape.CIRCLE,this.color=t.color||e.shape.BLACK,this.color_key=t.color_key||e.color_key.OFF,this.path_points=t.path_points||e.path_points.EVEN,this.path_mode=t.path_mode||e.path_mode.INLINE,this.path_rotation=t.path_rotation||e.path_rotation.NONE,this.path_grouping=t.path_grouping||e.path_grouping.NONE,this.object_rotation=t.object_rotation||e.object_rotation.NONE,this.object_size=t.object_size||e.object_size.FULL,this.filter=t.filter||e.filter.OFF,this.debugging=t.debugging||e.debugging.OFF},o.shape={CIRCLE:1,SQUARE:2,ELLIPSE:3,TRIANGLE:4,HUMP:5,DONUT:6,RADIAL:7,STAR:8,I_RADIAL:9,SPARKLINE:10,BAR:11,RADIAL_BAR:12},o.color={BLACK:1,MONOTONE:2,RANDOM:3,VALUE_DEPENDANT:4,WHITE:5,FROM_DATA:6,GRADIENT:7},o.color_key={OFF:1,ON:2},o.path_points={EVEN:1,VALUE_DEPENDANT:2},o.path_mode={INLINE:1,RANDOM:2,MEAN_DEVIATION:3,RING:4,CUBE_SPIRAL:5,INLINE_HALF:6},o.path_rotation={NONE:1,MEAN_DEPENDANT:2,RANDOM:3},o.path_grouping={NONE:1,DATA_GROUP:2},o.object_rotation={NONE:1,VALUE_DEPENDANT:2,RANDOM:3,RADIAL:4},o.object_size={FULL:1,VALUE_DEPENDANT:2,WIN_LOSS:3},o.filter={NONE:1,GOO:2},o.debugging={OFF:1,ON:2},a);var m,b,v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return e.distance=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.hypot(n,o)},e}(),_=v;var A=(b=m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t.dataLength,this.size=t.size,this.random=t.random,this.padding=t.size.padding,this.data=t.data,this.groups=this.data.reduce((function(e,t){return"undefined"==typeof e[t.group]?e[t.group]=1:e[t.group]+=1,e}),{});var n=Math.max.apply(Math,Object.values(this.groups)),o=Object.values(this.groups).length;this.groups.max=n,this.groups.total=o,this.gene=t.gene,this.gene.path_mode===y.path_mode.RING?this.path=this.generateRingPath():this.gene.path_mode===y.path_mode.CUBE_SPIRAL?this.path=this.generateCubeSpiralPath():this.path=this.generateLinePath(this.gene.path_mode===y.path_mode.INLINE_HALF)}return e.centerPoint=function(e,t){return new _((t.x-e.x)/2+e.x,(t.y-e.y)/2+e.y)},e.prototype.generateCubeSpiralPath=function(){for(var e=Math.ceil(Math.sqrt(this.data.length+1)),t=(Math.min(this.size.width,this.size.height)-2*this.padding)/(e+2),n=void 0,o=void 0,a=void 0,r=void 0,i=[],s=1,p=1,h=2,c=1,l=0;l<this.data.length;l++)0===l?(n=new _(this.size.width/2,this.size.height/2),o=new _(this.size.width/2,this.size.height/2)):(1===h?(a=i[l-1].b.x+t*c,r=i[l-1].b.y,p<s?p++:(p=1,h++)):(a=i[l-1].b.x,r=i[l-1].b.y+t*c,p<s?p++:(h=1,s++,c*=-1,p=1)),n=i[l-1].b,o=new _(a,r)),i.push({a:n,b:o,dist:_.distance(n,o)});return i},e.prototype.generateRingPath=function(){for(var e=Math.min(this.size.width,this.size.height),t=(e-6*this.padding)/2,n=e/2,o=360/this.num*(Math.PI/180),a=this.getMean(this.data).total,r=[],i=this.size.width/2,s=this.size.height/2,p=void 0,h=void 0,c=void 0,l=0;l<this.num;l++){if(this.gene.path_points===y.path_points.EVEN)p=new _(Math.cos(o*l)*t+i,Math.sin(o*l)*t+s),h=new _(Math.cos(o*(l+1))*t+i,Math.sin(o*(l+1))*t+s);else{p=0===l?new _(Math.cos(o*l)*t+i,Math.sin(o*l)*t+s):r[l-1].b;var u=this.data[l].value/a*360*(Math.PI/180);o=Math.atan2(p.y-n,p.x-n)+u,h=new _(Math.cos(o)*t+i,Math.sin(o)*t+s)}c=_.distance(p,h),r.push({a:p,b:h,dist:c})}return r},e.prototype.generateLinePath=function(e){var t=this.generatePath(e);return this.gene.path_mode!==y.path_mode.INLINE&&this.gene.path_mode!==y.path_mode.INLINE_HALF&&(t=this.adjustPath({path:t,mode:this.gene.path_mode,data:this.data})),this.gene.path_rotation!==y.path_rotation.NONE&&(t=this.rotatePath(t)),t},e.prototype.generatePath=function(e){Math.min(this.size.width,this.size.height);var t=e?.5:1,n=[],o=void 0,a=void 0;this.gene.path_grouping===y.path_grouping.DATA_GROUP?(o=(this.size.height-this.padding*this.groups.total)/this.groups.total,a=(this.size.width*t-2*this.padding)/this.groups.max):(o=(this.size.height-2*this.padding)/2+this.padding,a=(this.size.width*t-this.padding*(2*t))/this.num);for(var r=this.getMean(this.data).total,i=void 0,s=void 0,p=0,h=0,c=void 0,l=0;l<this.num;l++,p++){var u=this.gene.path_grouping===y.path_grouping.DATA_GROUP?this.data[l].group+1:1;this.gene.path_points===y.path_points.VALUE_DEPENDANT&&(a=(this.size.width*t-2*this.padding)*(this.data[l].value/r)),0===l?i=new _(l*a+this.padding+(e?.5*(this.size.width-2*this.padding):0),o*u):(p>=this.groups[h]&&this.gene.path_grouping===y.path_grouping.DATA_GROUP?(c=this.padding,h++,p=0):c=n[l-1].b.x,i=new _(c,o*u)),s=new _(i.x+a,o*u);var g=_.distance(i,s);n.push({a:i,b:s,dist:g})}return n},e.prototype.adjustPath=function(e){for(var t=this.getMean(e.data).mean,n=0;n<e.path.length;n++){if(0===n?e.mode||(e.path[n].a.y+=this.random.random()*this.size.height/10-this.areaSize/20):e.path[n].a.y=e.path[n-1].b.y,e.mode===y.path_mode.MEAN_DEVIATION){var o=this.size.height/20,a=Math.abs(e.data[n].value-t);o=e.data[n].value<t?o:-o;var r=n>0?n-1:n;e.path[n].b.y=e.path[r].b.y+o*a}else e.path[n].b.y=this.random.random()*this.size.height,e.path[n].b.x=this.random.random()*this.size.width;e.path[n].dist=_.distance(e.path[n].a,e.path[n].b)}return e.path},e.prototype.adjustPoint=function(e){switch(this.path_mode){case y.path_mode.RANDOM:e.x+=this.random.random()*this.size.width,e.y+=this.random.random()*this.size.height,console.log(e);break;case 2:e.y=e.x}return e},e.prototype.rotatePath=function(e){var t=new _(this.areaSize/2,this.areaSize/2),n=0;if(this.gene.path_rotation===y.path_rotation.MEAN_DEPENDANT){for(var o=0,a=0;a<this.data.length;a++)o+=this.data[a].value;n=360*(o/=this.data.length)}else n=360*this.random.random();for(a=0;a<e.length;a++)e[a]=this.rotateSegment(e[a],t,n);return e},e.prototype.rotateSegment=function(e,t,n){return e.a=this.rotatePoint(e.a,t,n),e.b=this.rotatePoint(e.b,t,n),e.dist=_.distance(e.a,e.b),e},e.prototype.rotatePoint=function(e,t,n){var o=Math.PI/180*n,a=Math.cos(o),r=Math.sin(o);return new _(a*(e.x-t.x)+r*(e.y-t.y)+t.x,a*(e.y-t.y)+r*(e.x-t.x)+t.y)},e.prototype.getMean=function(e){var t=e.reduce((function(e,t){return e+t.value}),0);return{mean:t/e.length,total:t}},e.getAngle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},e.orthogonalCenterPoint=function(e,t,n){var o=new _((t.x-e.x)/2+e.x,(t.y-e.y)/2+e.y),a=this.getAngle(e,t);return new _(Math.sin(a)*n+o.x,-Math.cos(a)*n+o.y)},e.renderDebugInfo=function(e,t,n){return n===y.debugging.ON?d.a.createElement("g",{id:"debug"},d.a.createElement("circle",{r:"3",cx:e.x,cy:e.y,fill:"black"}),d.a.createElement("circle",{r:"3",cx:t.x,cy:t.y,fill:"black"}),d.a.createElement("line",{x1:e.x,y1:e.y,x2:t.x,y2:t.y,stroke:"black",strokeWidth:"1",strokeDasharray:"4"})):void 0},e}(),m.AdjustMode={RANDOM:1,EQUAL:2},b);var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.elementAtts={cx:n.x,cy:n.y,key:n.key,r:n.gene.filter===y.filter.GOO?n.size:n.size/2,fill:n.fill},o.pointA=n.pointA,o.pointB=n.pointB,o.debugging=n.gene.debugging,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return d.a.createElement("g",{key:this.props.key},d.a.createElement("circle",this.elementAtts),A.renderDebugInfo(this.pointA,this.pointB,this.debugging))},t}(f.Component),w=n(10),x=n.n(w);var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.getColor=function(e){if(e.type===y.color.FROM_DATA&&"undefined"!==typeof e.itemColor)return e.itemColor;var t;switch(e.type){case y.color.MONOTONE:t=["#dddddd","#000000"];break;case y.color.RANDOM:t=["#009688","#E91E63","#9C27B0","#FFC107","#3F51B5","#4CAF50","#FFEB3B","#673AB7","#CDDC39","#FF5722","#00BCD4","#f44336","#FF9800","#2196F3"];break;case y.color.VALUE_DEPENDANT:case y.color.FROM_DATA:t=["#edf8b1","#7fcdbb","#2c7fb8"];break;case y.color.WHITE:t=["#FFFFFF","#FFFFFF"];break;case y.color.BLACK:default:t=["#000000","#000000"]}return e.type===y.color.RANDOM?t[Math.floor(e.random.random()*(t.length-1))]:x.a.scale(t)(e.val).hex()},e}(),N=function(e,t){return x.a.scale(e)(t).hex()},j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n)),a=A.getAngle(n.pointA,n.pointB),r=180*a/Math.PI;a=(360+Math.round(r))%360,o.angle=a;var i=_.distance(n.pointA,n.pointB)*("array"===typeof n.value?.6:.9),s=void 0,p=void 0,h=void 0,c=n.fullSize-2*n.padding;s=n.gene.shape===y.shape.BAR||n.gene.object_size===y.object_size.WIN_LOSS?n.x-i/2:n.x-n.size/2;var l=I("array"===n.value)?c:c/2;if(h=n.gene.shape===y.shape.BAR&&n.gene.object_size!==y.object_size.WIN_LOSS?"array"===typeof n.value?(n.value[1]-n.value[0])/(n.range.max-n.range.min):n.value*l:n.size,n.gene.object_size===y.object_size.WIN_LOSS&&(p=n.y-h),p=n.gene.shape===y.shape.BAR?"undefined"!==typeof n.range.min?(n.range.max-n.value[1])/(n.range.max-n.range.min)*c+n.padding:n.y-h+c/2:n.y-h/2,n.gene.path_mode===y.path_mode.RING&&(s=n.pointB.x+(n.pointB.x-n.pointA.x)/2-i/2,p=n.pointB.y+(n.pointB.y-n.pointA.y)/2),o.center=new _(n.pointB.x+(n.pointB.x-n.pointA.x)/2,n.pointB.y+(n.pointB.y-n.pointA.y)/2),n.gene.path_mode===y.path_mode.RING&&n.gene.object_rotation===y.object_rotation.RADIAL){s=(n.pointB.x+(n.pointB.x-n.pointA.x)/2+n.fullSize/2)/2-i/2,p=(n.pointB.y+(n.pointB.y-n.pointA.y)/2+n.fullSize/2)/2,o.center.x=s+i/2,o.center.y=p;var u=_.distance(o.center,{x:n.fullSize/2,y:n.fullSize/2}),g=n.fullSize/2-u;console.log((n.value[0]-n.range.min)/(n.range.max-n.range.min),g,n.fullSize,u),p+=(n.value[0]-n.range.min)/(n.range.max-n.range.min)*g,h=(n.value[1]-n.value[0])/(n.range.max-n.range.min)*g}if("object"===I(n.avg)){if(n.gene.object_rotation===y.object_rotation.RADIAL){console.log("here");var f=_.distance(o.center,{x:n.fullSize/2,y:n.fullSize/2}),d=n.fullSize/2-f;o.avgAtts={x:(n.pointB.x+(n.pointB.x-n.pointA.x)/2+n.fullSize/2)/2-.9*_.distance(n.pointA,n.pointB)/2,y:(n.pointB.y+(n.pointB.y-n.pointA.y)/2+n.fullSize/2)/2,width:.9*_.distance(n.pointA,n.pointB),height:(n.avg[1]-n.avg[0])/(n.range.max-n.range.min)*d},o.avgAtts.y+=(n.avg[0]-n.range.min)/(n.range.max-n.range.min)*d}else o.avgAtts={x:n.x-.9*_.distance(n.pointA,n.pointB)/2,y:n.range.max-n.avg[1]+n.padding,width:.9*_.distance(n.pointA,n.pointB),height:(n.avg[1]-n.avg[0])/(n.range.max-n.range.min)*c};o.avgAtts.fill="rgba(255,255,255,0.3)",o.avgAtts.stroke="rgba(50,50,50,0.5)",o.avgAtts.strokeWidth="1"}return o.elementAtts={x:s,y:p,width:n.gene.shape==y.shape.BAR?i:n.size,height:h,fill:n.gene.color===y.color.GRADIENT?"url(#gradient"+n.index+o.props.gene.object_rotation+")":n.fill},o.maxCol=(n.value[0]-n.range.min)/(n.range.max-n.range.min),o.minCol=(n.value[1]-n.range.min)/(n.range.max-n.range.min),o.midCol=o.minCol+(o.maxCol-o.minCol)/2,o.pointA=n.pointA,o.pointB=n.pointB,o.debugging=n.gene.debugging,o.colors=["rgba(0,179,255,1)","rgba(255,249,144,1)","rgba(255,145,31,1)"],o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.gene.object_rotation===y.object_rotation.RANDOM?360*this.props.random.random()-180:180*this.props.value;this.props.gene.object_rotation===y.object_rotation.RADIAL&&(e=function(e,t){var n=e.x-t.x,o=-(e.y-t.y),a=Math.atan2(o,n);return(a=a<0?Math.abs(a):2*Math.PI-a)*(180/Math.PI)-90}(new _(this.center.x,this.center.y),new _(this.props.fullSize/2,this.props.fullSize/2))%360);var t=this.props.gene.object_rotation!==y.object_rotation.NONE?"rotate("+e+" "+this.center.x+" "+this.center.y+")":"",n="object"===I(this.props.avg)?"5px":"0px";return d.a.createElement("g",{key:this.props.key},this.props.gene.color===y.color.GRADIENT?d.a.createElement("linearGradient",{id:"gradient"+this.props.index+this.props.gene.object_rotation,x1:"0",x2:"0",y1:"0",y2:"1"},d.a.createElement("stop",{offset:"0",stopColor:N(this.colors,this.props.gene.path_mode===y.path_mode.RING?this.maxCol:this.minCol)}),d.a.createElement("stop",{offset:"0.5",stopColor:N(this.colors,this.midCol)}),d.a.createElement("stop",{offset:"1",stopColor:N(this.colors,this.props.gene.path_mode===y.path_mode.RING?this.minCol:this.maxCol)})):"",d.a.createElement("rect",j({},this.elementAtts,{transform:t,rx:n,ry:n})),"undefined"!==typeof this.avgAtts?d.a.createElement("rect",j({},this.avgAtts,{transform:t,className:this.props.gene.color===y.color.GRADIENT?"gradient1":"",rx:n,ry:n})):"",A.renderDebugInfo(this.pointA,this.pointB,this.debugging))},t}(f.Component),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var P=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.elementAtts={d:o.constructTrianglePath(n),key:n.key,fill:n.fill},o.pointA=n.pointA,o.pointB=n.pointB,o.debug=n.gene.debugging,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.constructTrianglePath=function(e){var t=A.orthogonalCenterPoint(e.pointA,e.pointB,e.size),n="M"+e.pointA.x+" "+e.pointA.y,o="L"+e.pointB.x+" "+e.pointB.y+"Z";return n+(" L"+t.x+" "+t.y)+o},t.prototype.render=function(){var e=this.props.gene.object_rotation===y.object_rotation.RANDOM?360*this.props.random.random()-180:180*this.props.value,t=this.props.gene.object_rotation!==y.object_rotation.NONE?"rotate("+e+" "+this.props.x+" "+this.props.y+")":"";return d.a.createElement("g",{key:this.props.key},d.a.createElement("path",R({},this.elementAtts,{transform:t})),A.renderDebugInfo(this.pointA,this.pointB,this.debug))},t}(f.Component);var z=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n)),a=180*A.getAngle(n.pointA,n.pointB)/Math.PI;return o.angle=(360+Math.round(a))%360,o.elementAtts={cx:n.x,cy:n.y,ry:n.size/2,rx:_.distance(n.pointA,n.pointB)/2,fill:n.fill,transform:"rotate("+o.angle+" "+n.x+" "+n.y+")"},o.pointA=n.pointA,o.pointB=n.pointB,o.debug=n.gene.debugging,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.gene.object_rotation===y.object_rotation.RANDOM?360*this.props.random.random()-180:180*this.props.value,t=this.props.gene.object_rotation!==y.object_rotation.NONE?"rotate("+e+" "+this.props.x+" "+this.props.y+")":"";return d.a.createElement("g",{key:this.props.key,transform:t},d.a.createElement("ellipse",this.elementAtts),A.renderDebugInfo(this.pointA,this.pointB,this.debug))},t}(f.Component),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.debug=n.gene.debugging,o.pointA=n.pointA,o.pointB=n.pointB,o.elementAtts={d:o.constructHumpPath(n),key:n.key,fill:n.fill},o.key=n.key,o.fill=n.fill,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.constructHumpPath=function(e){var t=new _(e.x,e.y);this.control1=A.orthogonalCenterPoint(e.pointA,t,1.33*e.size),this.control2=A.orthogonalCenterPoint(t,e.pointB,1.33*e.size);var n="M"+e.pointA.x+" "+e.pointA.y,o=" "+e.pointB.x+" "+e.pointB.y+"Z";return n+(" C"+this.control1.x+" "+this.control1.y)+(" "+this.control2.x+" "+this.control2.y)+o},t.prototype.render=function(){var e=this.props.gene.object_rotation===y.object_rotation.RANDOM?360*this.props.random.random()-180:180*this.props.value,t=this.props.gene.object_rotation!==y.object_rotation.NONE?"rotate("+e+" "+this.props.x+" "+this.props.y+")":"";return d.a.createElement("g",{key:this.props.key},d.a.createElement("path",D({},this.elementAtts,{transform:t})),A.renderDebugInfo(this.pointA,this.pointB,this.debug))},t}(f.Component),B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n)),a={x:n.pointA.x-n.fullSize/2,y:n.pointA.y-n.fullSize/2},r={x:n.pointB.x-n.fullSize/2,y:n.pointB.y-n.fullSize/2},i=Math.atan2(a.y,a.x),s=Math.atan2(r.y,r.x),p=(n.fullSize-4*n.padding)/2,h=void 0,c="none",l=n.fill,u=p*n.value,g=n.fullSize/2;switch(n.gene.shape){case y.shape.STAR:var f=o.polarToCartesian(g,g,n.value*p,i),d=o.polarToCartesian(g,g,n.value*p,s);h="M"+g+" "+g+"L"+f.x+" "+f.y+"L"+d.x+" "+d.y+"Z",c=n.fill,l="none";break;case y.shape.RADIAL:h=o.describeArc(g,g,n.value*p/2,i,s),u=n.value*p;break;case y.shape.DONUT:h=o.describeArc(g,g,p,i,s),u=n.fullSize/10;break;case y.shape.RADIAL_BAR:i=0,s=360*Math.PI/180*n.value;var m=new _(n.pointA.x+n.pointB.x-n.pointA.x,n.pointA.y+n.pointB.y-n.pointA.y);h=o.describeArc(g,g,_.distance(new _(g,g),m),0,2*Math.PI*n.value),u=.9*_.distance(n.pointA,n.pointB);break;case y.shape.I_RADIAL:default:h=o.describeArc(g,g,p-u/2,i,s)}return o.elementAtts={fill:c,stroke:l,strokeWidth:u,d:h,key:n.key},o.pointA=n.pointA,o.pointB=n.pointB,o.debugging=n.gene.debugging,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.polarToCartesian=function(e,t,n,o){return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},t.prototype.describeArc=function(e,t,n,o,a){var r=this.polarToCartesian(e,t,n,a),i=this.polarToCartesian(e,t,n,o),s=a-o<=Math.PI?"0":"1";return["M",r.x,r.y,"A",n,n,0,s,0,i.x,i.y].join(" ")},t.prototype.render=function(){var e=this.props.gene.object_rotation===y.object_rotation.RANDOM?360*this.props.random.random()-180:180*this.props.value,t=this.props.gene.object_rotation!==y.object_rotation.NONE?"rotate("+e+" "+this.props.x+" "+this.props.y+")":"";return d.a.createElement("g",{key:this.props.key},d.a.createElement("path",B({},this.elementAtts,{transform:t})),A.renderDebugInfo(this.pointA,this.pointB,this.debugging))},t}(f.Component);var S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.path=n.path,o.shapes=n.shapes,o.size=n.size,o.placement=n.placement,o.goo=n.goo,o.color=n.color,o.gene=n.gene,o.padding=n.padding,o.maxHeight=n.maxHeight,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){for(var e=this,t=0,n=1.1,o=void 0,a=void 0,r=void 0,i="",s=0,p=0;p<this.shapes.length;p++)s+=this.shapes[p].value;return this.gene.object_size!==y.object_size.WIN_LOSS?(this.shapes.map((function(s,p){r=e.path[p].dist>e.maxHeight?e.maxHeight-6:e.path[p].dist;var h=A.orthogonalCenterPoint(e.path[p].a,e.path[p].b,r*s.value-r/2);s.value<n&&(a=h,n=s.value),s.value>=t&&(o=h,t=s.value),i+=(0==p?"M":"L")+h.x+" "+h.y})),d.a.createElement("g",null,d.a.createElement("path",{d:i,strokeWidth:"2",fill:"none",stroke:O.getColor(s/this.shapes.length,this.gene.color)}),d.a.createElement("circle",{cx:o.x,cy:o.y,fill:"chartreuse",r:"3",key:"max"}),d.a.createElement("circle",{cx:a.x,cy:a.y,fill:"red",r:"3",key:"min"}))):this.shapes.map((function(t,n){var o=A.centerPoint(e.path[n].a,e.path[n].b),a=e.path[n].dist;return d.a.createElement("g",{key:"square"+n},d.a.createElement(C,{x:o.x,y:t.value>=s/e.shapes.length?o.y:o.y+a,pointA:e.path[n].a,pointB:e.path[n].b,fullSize:e.size,padding:e.padding,size:a,key:n,fill:t.value>=s/e.shapes.length?"chartreuse":"red",gene:e.gene,value:t.value}))}))},t}(f.Component);var L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o={circle:E,square:C,triangle:P,ellipse:z,hump:k,donut:M,spark:S},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));switch(a.props=n,n.gene.shape){case y.shape.CIRCLE:a.component=o.circle;break;case y.shape.SQUARE:case y.shape.BAR:a.component=o.square;break;case y.shape.TRIANGLE:a.component=o.triangle;break;case y.shape.ELLIPSE:a.component=o.ellipse;break;case y.shape.HUMP:a.component=o.hump;break;case y.shape.DONUT:case y.shape.RADIAL:case y.shape.I_RADIAL:case y.shape.STAR:case y.shape.RADIAL_BAR:a.component=o.donut;break;case y.shape.SPARKLINE:a.component=o.spark;break;default:a.component=o.circle}return a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return d.a.createElement(this.component,this.props)},t}(f.Component);var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed="number"===typeof t?t:this.hashString(t)}return e.prototype.random=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)},e.prototype.hashString=function(e){var t,n,o=0;if(0===e.length)return o;for(t=0,n=e.length;t<n;t++)o=(o<<5)-o+e.charCodeAt(t),o|=0;return o},e}();!function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}e.checkGene=function(e){var t=[],n=[];e.filter===y.filter.GOO&&e.shape!==y.shape.CIRCLE&&t.push('"Gene.filter.GOO" filter should only be used in conjunction with "Gene.shape.CIRCLE"'),e.object_rotaion!==y.object_rotation.NONE&&e.shape===y.shape.CIRCLE&&t.push('"Gene.shape.CIRCLE" should not have a "Gene.object_rotation" applied as it will have no visual effect '),e.shape!==y.shape.DONUT&&e.shape!==y.shape.RADIAL&&e.shape!==y.shape.I_RADIAL&&e.shape!==y.shape.STAR||e.path_mode===y.path_mode.RING||n.push('"Gene.shape.DONUT", "Gene.shape.RADIAL", "Gene.shape.I_RADIAL" and "Gene.shape.STAR" must only be used in conjuntion with "Gene.path_mode.RING". Please either change the shape or the path mode.'),e.path_mode===y.path_mode.RING&&e.path_grouping!==y.path_grouping.NONE&&n.push('"Gene.path_grouping.DATA_GROUP" must not be used in conjuntion with "Gene.path_mode.RING". Please either change the grouping or the path mode.'),e.path_grouping===y.path_grouping.DATA_GROUP&&e.path_mode!==y.path_mode.INLINE&&n.push('"Gene.path_grouping.DATA_GROUP" must be used in conjuntion with "Gene.path_mode.INLINE". Please either change the grouping or the path mode.');for(var o=0;o<t.length;o++)console.warn(t[o]);for(o=0;o<n.length;o++)throw new Error(n[o])}}();var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return d.a.createElement("filter",{id:"goo",colorInterpolationFilters:"sRGB"},d.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"18",result:"blur"}),d.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -8",result:"cm"}))},t}(f.Component);var G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.gene=n.gene,o.data=n.config.data.dataset.object.values,o.height=n.config.data.dataset.object.size.height,o.width=n.config.data.dataset.object.size.width,o.size=Math.min(o.width,o.height),o.gene.path_mode!==U.path_mode.RING&&o.gene.path_mode!==U.path_mode.CUBE_SPIRAL&&o.gene.path_grouping!==U.path_grouping.DATA_GROUP&&(o.size=o.width),o.padding=n.config.data.dataset.object.size.padding,o.random=new T(n.config.data.dataset.object.name),o.maxPV=0,o.minPV=1.1,o.maxP={},o.minP={},o.path=new A({size:{width:o.width,height:o.height,padding:o.padding},dataLength:o.data.length,random:o.random,padding:o.padding,data:o.data,gene:o.gene}),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderShapes=function(e,t,n,o,a){var r=this,i=void 0;return i=this.gene.shape===U.shape.SPARKLINE?d.a.createElement(S,{path:e,shapes:t,size:n,placement:o,goo:a,gene:this.gene,padding:this.padding,maxHeight:this.height}):t.map((function(t,o){var a=A.centerPoint(e[o].a,e[o].b);console.log(e[o].a,e[o].b,r.gene.path_mode);var i=e[o].dist;if(r.gene.path_grouping===y.path_grouping.DATA_GROUP){r.groups=r.data.reduce((function(e,t){return"undefined"==typeof e[t.group]?e[t.group]=1:e[t.group]+=1,e}),{});var s=Object.values(r.groups).length;i=Math.min((r.size-r.padding*s)/s,i)}return d.a.createElement(L,{x:a.x,y:a.y,pointA:e[o].a,pointB:e[o].b,fullSize:n,range:{min:r.props.config.data.dataset.object.min,max:r.props.config.data.dataset.object.max},padding:r.padding,size:(i-0)*t.value+0,id:t.key,fill:O.getColor({val:t.value,type:r.gene.color,random:r.random,itemColor:t.color}),gene:r.gene,value:t.value,avg:t.avg,color:t.color,key:o,index:o,random:r.random})})),d.a.createElement("g",{filter:this.gene.filter===y.filter.GOO?"url(#goo)":""},i)},t.prototype.renderColorKey=function(e){if(this.gene.color===y.color.VALUE_DEPENDANT&&this.gene.color_key===y.color_key.ON){var t,n=this.size/40,o=[];t=this.size/e,this.size-=n,this.padding+=n/2;for(var a=0;a<e;a++)o.push(d.a.createElement("rect",{x:t*a,y:this.size-n,width:t,height:n,fill:O.getColor((a+1)/e,this.gene.color,this.random),key:a}));return o}},t.prototype.render=function(){return d.a.createElement("svg",{className:"icon",width:this.width,height:this.height},d.a.createElement(F,null),this.renderColorKey(1e3),this.renderShapes(this.path.path,this.data,this.size,1,!0))},t}(f.Component),U=y,V={data:{dataset:n(19)}},H=n(20),W=n.n(H),K=n(21),q=n.n(K),J=n(22),Q=n.n(J),Z=function(e){function t(e){var n;Object(h.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));var o={shape:U.shape.BAR,color:U.color.FROM_DATA,color_key:U.color_key.OFF,path_points:U.path_points.EVEN,path_mode:U.path_mode.INLINE,path_rotation:U.path_rotation.NONE,path_grouping:U.path_grouping.NONE,object_rotation:U.object_rotation.NONE,object_size:U.object_size.FULL,filter:U.filter.OFF,debugging:U.debugging.OFF};return n.gene=new U(o),n}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var e=W.a.parse(this.props.location.search),t=0;t<Object.keys(e).length;t++){var n=Object.keys(e)[t],o=void 0;isNaN(n)?(o=e[n],this.gene[n]=U[n][o.toUpperCase()]):(o=parseInt(e[n]),this.gene[n]=o)}this.setState({gene:this.gene})}},{key:"componentDidUpdate",value:function(){var e=document.querySelector(".renderer svg"),t=document.createElement("canvas"),n=document.createElement("div");t.width=e.clientWidth,t.height=e.clientHeight,e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),n.appendChild(e),q()(t,n.innerHTML);var o=t.toDataURL();console.log(o.split(",").length),window.webViewBridge.send("handleDataReceived",o.split(",")[1])}},{key:"render",value:function(){return i.a.createElement("div",null,null===this.state?"":i.a.createElement("div",{className:"renderer",style:Y},i.a.createElement(G,{config:V,gene:this.state.gene})))}}]),t}(r.Component),$=Promise.resolve(),X={};window.webViewBridge={send:function(e,t,n,o){var a={targetFunc:e,data:t||{}};(n||o)&&(a.msgId=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}());var r=JSON.stringify(a);$=$.then((function(){return new Promise((function(e,t){console.log("sending message "+a.targetFunc),a.msgId&&(X[a.msgId]={onsuccess:n,onerror:o}),window.ReactNativeWebView.postMessage(r),e()}))})).catch((function(e){console.error("rnBridge send failed "+e.message)}))}},window.addEventListener("message",(function(e){var t;console.log("message received from react native");try{t=JSON.parse(e.data)}catch(n){return void console.error("failed to parse message from react-native "+n)}t.args&&X[t.msgId]&&(t.isSuccessfull?X[t.msgId].onsuccess.apply(null,t.args):X[t.msgId].onerror.apply(null,t.args),delete X[t.msgId])}));var Y={width:"385px",height:"400px",backgroundImage:"url(".concat(Q.a,")"),backgroundSize:"auto 550px",padding:"125px 55px 35px 8px",backgroundRepeat:"no-repeat",margin:"0 auto"},ee=(n(51),n(23)),te=n(6);var ne=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(ee.a,{basename:"/murvRenderer"},i.a.createElement(te.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(Z,e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.render(i.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.a4966831.chunk.js.map